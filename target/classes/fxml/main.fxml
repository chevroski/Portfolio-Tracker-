<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.portfoliotracker.controller.MainController"
      prefWidth="1200" prefHeight="800" styleClass="root-pane">
    
    <!-- Custom Title Bar -->
    <HBox styleClass="custom-title-bar" alignment="CENTER_LEFT">
        <FontIcon iconLiteral="fas-chart-line" iconSize="16" styleClass="header-icon"/>
        <Label text="  Portfolio Tracker" styleClass="title-bar-title"/>
        <Pane HBox.hgrow="ALWAYS"/>
        <Button fx:id="minimizeBtn" text="─" onAction="#onMinimize" styleClass="title-bar-btn"/>
        <Button fx:id="maximizeBtn" text="☐" onAction="#onMaximize" styleClass="title-bar-btn"/>
        <Button fx:id="closeBtn" text="✕" onAction="#onClose" styleClass="title-bar-btn, close"/>
    </HBox>
    
    <BorderPane VBox.vgrow="ALWAYS">
        <top>
            <ToolBar styleClass="toolbar">
                <Button fx:id="newPortfolioBtn" onAction="#onNewPortfolio" styleClass="btn-primary">
                    <graphic><FontIcon iconLiteral="fas-plus" iconSize="14"/></graphic>
                    <text>New Portfolio</text>
                </Button>
                <Button fx:id="importCsvBtn" onAction="#onImportCSV" styleClass="btn-secondary">
                    <graphic><FontIcon iconLiteral="fas-file-import" iconSize="14"/></graphic>
                    <text>Import CSV</text>
                </Button>
                <Separator orientation="VERTICAL"/>
                <Button fx:id="chartsBtn" onAction="#onShowCharts" styleClass="btn-secondary">
                    <graphic><FontIcon iconLiteral="fas-chart-line" iconSize="14"/></graphic>
                    <text>Charts</text>
                </Button>
                <Button fx:id="analysisBtn" onAction="#onShowAnalysis" styleClass="btn-secondary">
                    <graphic><FontIcon iconLiteral="fas-search-dollar" iconSize="14"/></graphic>
                    <text>Analysis</text>
                </Button>
                <Button fx:id="refreshBtn" onAction="#onRefresh" styleClass="btn-secondary">
                    <graphic><FontIcon iconLiteral="fas-sync-alt" iconSize="14"/></graphic>
                    <text>Refresh</text>
                </Button>
                <Separator orientation="VERTICAL"/>
                <Button fx:id="loadDemoBtn" onAction="#onLoadDemo" styleClass="btn-secondary">
                    <graphic><FontIcon iconLiteral="fas-database" iconSize="14"/></graphic>
                    <text>Load Demo</text>
                </Button>
                <Pane HBox.hgrow="ALWAYS"/>
                <HBox alignment="CENTER" spacing="5" styleClass="currency-selector">
                    <FontIcon iconLiteral="fas-coins" iconSize="12"/>
                    <ComboBox fx:id="currencyCombo" onAction="#onCurrencyChange" prefWidth="75"/>
                </HBox>
                <Separator orientation="VERTICAL"/>
                <Label fx:id="statusLabel" text="Ready" styleClass="status-label">
                    <graphic><FontIcon iconLiteral="fas-check-circle" iconSize="12" styleClass="status-icon"/></graphic>
                </Label>
            </ToolBar>
        </top>
        
        <left>
            <VBox prefWidth="250" styleClass="sidebar">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <FontIcon iconLiteral="fas-wallet" iconSize="18" styleClass="sidebar-icon"/>
                    <Label text="Portfolios" styleClass="sidebar-title"/>
                </HBox>
                <ListView fx:id="portfolioListView" VBox.vgrow="ALWAYS" styleClass="portfolio-list"/>
            </VBox>
        </left>
        
        <center>
            <StackPane fx:id="contentArea" styleClass="content-area">
                <VBox alignment="CENTER" spacing="20">
                    <FontIcon iconLiteral="fas-chart-pie" iconSize="64" styleClass="welcome-icon"/>
                    <Label text="Welcome to PortfolioTracker" styleClass="welcome-title"/>
                    <Label text="Create or select a portfolio to get started" styleClass="welcome-subtitle"/>
                </VBox>
            </StackPane>
        </center>
    </BorderPane>
</VBox>
